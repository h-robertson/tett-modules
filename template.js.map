{"version":3,"file":"template.js","sources":["node_modules/d3-selection/src/namespaces.js","node_modules/d3-selection/src/namespace.js","node_modules/d3-selection/src/creator.js","node_modules/d3-selection/src/selector.js","node_modules/d3-selection/src/selectorAll.js","node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-selection/src/selection/enter.js","node_modules/d3-selection/src/selection/data.js","node_modules/d3-selection/src/selection/sort.js","node_modules/d3-selection/src/window.js","node_modules/d3-selection/src/selection/classed.js","node_modules/d3-selection/src/selection/text.js","node_modules/d3-selection/src/selection/html.js","node_modules/d3-selection/src/selection/raise.js","node_modules/d3-selection/src/selection/lower.js","node_modules/d3-selection/src/selection/insert.js","node_modules/d3-selection/src/selection/remove.js","node_modules/d3-selection/src/selection/clone.js","node_modules/d3-selection/src/selection/on.js","node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-selection/src/selection/index.js","node_modules/d3-selection/src/select.js","node_modules/d3-array/src/ascending.js","node_modules/d3-selection/src/selection/select.js","node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-selection/src/selection/filter.js","node_modules/d3-selection/src/matcher.js","node_modules/d3-selection/src/constant.js","node_modules/d3-selection/src/selection/exit.js","node_modules/d3-selection/src/selection/join.js","node_modules/d3-selection/src/selection/merge.js","node_modules/d3-selection/src/selection/order.js","node_modules/d3-selection/src/selection/call.js","node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-selection/src/selection/node.js","node_modules/d3-selection/src/selection/size.js","node_modules/d3-selection/src/selection/empty.js","node_modules/d3-selection/src/selection/each.js","node_modules/d3-selection/src/selection/attr.js","node_modules/d3-selection/src/selection/style.js","node_modules/d3-selection/src/selection/property.js","node_modules/d3-selection/src/selection/append.js","node_modules/d3-selection/src/selection/datum.js","node_modules/d3-array/src/bisect.js","node_modules/d3-array/src/bisector.js","node_modules/d3-array/src/number.js","node_modules/d3-array/src/ticks.js","node_modules/@flourish/legend/src/common.js","node_modules/@flourish/legend/src/utils.js","node_modules/@flourish/legend/src/container/index.js","node_modules/@flourish/legend/src/discrete-color/index.js","node_modules/d3-scale/src/init.js","node_modules/d3-collection/src/map.js","node_modules/d3-collection/src/set.js","node_modules/d3-scale/src/array.js","node_modules/d3-color/src/define.js","node_modules/d3-color/src/color.js","node_modules/d3-color/src/math.js","node_modules/d3-color/src/lab.js","node_modules/d3-color/src/cubehelix.js","node_modules/d3-interpolate/src/constant.js","node_modules/d3-interpolate/src/color.js","node_modules/d3-interpolate/src/rgb.js","node_modules/d3-interpolate/src/basis.js","node_modules/d3-interpolate/src/number.js","node_modules/d3-interpolate/src/string.js","node_modules/d3-interpolate/src/value.js","node_modules/d3-interpolate/src/numberArray.js","node_modules/d3-interpolate/src/date.js","node_modules/d3-interpolate/src/array.js","node_modules/d3-interpolate/src/object.js","node_modules/d3-interpolate/src/round.js","node_modules/d3-interpolate/src/hsl.js","node_modules/d3-interpolate/src/lab.js","node_modules/d3-interpolate/src/hcl.js","node_modules/d3-interpolate/src/cubehelix.js","node_modules/d3-scale/src/number.js","node_modules/d3-scale/src/continuous.js","node_modules/d3-scale/src/constant.js","node_modules/d3-format/src/formatDecimal.js","node_modules/d3-format/src/exponent.js","node_modules/d3-format/src/formatSpecifier.js","node_modules/d3-format/src/formatPrefixAuto.js","node_modules/d3-format/src/formatRounded.js","node_modules/d3-format/src/formatTypes.js","node_modules/d3-format/src/identity.js","node_modules/d3-format/src/locale.js","node_modules/d3-format/src/formatNumerals.js","node_modules/d3-format/src/formatGroup.js","node_modules/d3-format/src/formatTrim.js","node_modules/d3-scale/src/tickFormat.js","node_modules/d3-format/src/precisionPrefix.js","node_modules/d3-format/src/precisionRound.js","node_modules/d3-format/src/precisionFixed.js","node_modules/d3-scale/src/linear.js","node_modules/d3-scale/src/quantile.js","node_modules/d3-array/src/quantile.js","node_modules/d3-scale/src/sequential.js","node_modules/d3-scale/src/diverging.js","node_modules/@flourish/legend/src/continuous-color/index.js","node_modules/d3-format/src/defaultLocale.js","node_modules/@flourish/legend/src/continuous-size/index.js","node_modules/@flourish/colors/src/defaults/index.js","node_modules/@flourish/color-generator/src/lib/generate.js","node_modules/@flourish/color-generator/src/lib/hcl.js","node_modules/@flourish/colors/src/scales/categorical.js","node_modules/@flourish/color-generator/src/lib/hsl.js","node_modules/d3-scale-chromatic/src/colors.js","node_modules/d3-scale-chromatic/src/ramp.js","node_modules/d3-scale-chromatic/src/diverging/BrBG.js","node_modules/d3-scale-chromatic/src/diverging/PRGn.js","node_modules/d3-scale-chromatic/src/diverging/PiYG.js","node_modules/d3-scale-chromatic/src/diverging/PuOr.js","node_modules/d3-scale-chromatic/src/diverging/RdBu.js","node_modules/d3-scale-chromatic/src/diverging/RdGy.js","node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","node_modules/d3-scale-chromatic/src/diverging/Spectral.js","node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","node_modules/@flourish/colors/src/common/binning.js","node_modules/d3-scale/src/quantize.js","node_modules/d3-scale/src/threshold.js","node_modules/@flourish/colors/src/common/domain.js","node_modules/d3-array/src/extent.js","node_modules/@flourish/colors/src/scales/sequential.js","node_modules/@flourish/colors/src/scales/diverging.js","node_modules/d3-interpolate/src/piecewise.js","src/index.js","node_modules/@flourish/legend/src/index.js","node_modules/@flourish/colors/src/index.js"],"sourcesContent":["export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import { ascending } from \"d3-array\";\n\nfunction appendTo(container) {\n\tcontainer.appendChild(this._container.node());\n\n\tif (!document.querySelector(\"#legend-styles\")) {\n\t\tvar css = document.createElement(\"style\");\n\t\tcss.id = \"legend-styles\";\n\t\tcss.type = \"text/css\";\n\t\tcss.innerHTML = \".fl-legend-container.interactive .fl-legend-item:hover { opacity: 0.75; cursor: pointer; }\";\n\t\tdocument.head.appendChild(css);\n\t}\n\n\treturn this;\n}\n\nfunction format(formatFunction) {\n\tthis._formatFunction = formatFunction;\n\treturn this;\n}\n\nfunction getContainer() {\n\treturn this._container;\n}\n\nfunction visible(visible_) {\n\tif (visible_ === undefined) return this._visible;\n\tthis._visible = visible_;\n\treturn this;\n}\n\nfunction autoTitle(value) {\n\tif (value === undefined) return this._auto_title;\n\tthis._auto_title = value;\n\treturn this;\n}\n\nfunction _updateTitle() {\n\tvar _this = this;\n\tvar title = _this._state.title_mode == \"auto\" ? _this.autoTitle() : _this._state.title;\n\n\tthis._container.select(\".fl-legend-title\")\n\t\t.text(title)\n\t\t.style(\"display\", function() {\n\t\t\tif (!title.trim()) return \"none\";\n\t\t\telse if (_this._state.orientation === undefined) return \"inline-block\";\n\t\t\telse return _this._state.orientation == \"horizontal\" ? \"inline-block\" : \"block\";\n\t\t});\n}\n\nfunction getDomain(domain_, state) {\n\tvar domain = domain_.sort(ascending);\n\tvar domain_min = domain[0];\n\tvar domain_max = domain[domain.length - 1];\n\tvar domain_mid = domain.length > 2 ? domain[1] : null;\n\n\tif (state.legend_min !== null || state.legend_max !== null) {\n\t\tif (state.legend_min !== null && state.legend_max !== null) {\n\t\t\tif (state.legend_min < state.legend_max) {\n\t\t\t\tdomain_min = state.legend_min;\n\t\t\t\tdomain_max = state.legend_max;\n\t\t\t}\n\t\t}\n\t\telse if (state.legend_min !== null) {\n\t\t\tdomain_min = state.legend_min;\n\t\t\tif (domain_max < domain_min) domain_max = domain_min + 2;\n\t\t}\n\t\telse {\n\t\t\tdomain_max = state.legend_max;\n\t\t\tif (domain_min > domain_max) domain_min = domain_max - 2;\n\t\t}\n\t}\n\n\tif (domain_mid !== null && (domain_min > domain_mid || domain_max < domain_mid)) domain_mid = null;\n\n\tvar legend_domain = [domain_min];\n\tif (domain_mid !== null) legend_domain.push(domain_mid);\n\tlegend_domain.push(domain_max);\n\n\tlegend_domain.min = domain_min;\n\tlegend_domain.max = domain_max;\n\tlegend_domain.mid = domain_mid;\n\n\treturn legend_domain;\n}\n\nexport { appendTo, format, getContainer, visible, autoTitle, _updateTitle, getDomain };\n","function remToPx(rem) {\n\treturn rem * parseFloat(getComputedStyle(document.documentElement).fontSize);\n}\n\nfunction log10(val) {\n\treturn Math.log(val) / Math.LN10;\n}\n\nfunction roundDown(val) {\n\t// Round x down to nice value (preserve the first significant digit, the remaining digits -> 0)\n\t// e.g. 123.456 => 100, 0.123456 -> 0.1\n\n\tvar exp = Math.floor(log10(val));\n\tvar normalised_val = val / Math.pow(10, exp);\n\tvar normalised_val_floored = Math.floor(normalised_val);\n\tvar rounded = normalised_val_floored * Math.pow(10, exp);\n\t// Remove floating point garbage from decimal values\n\tif (exp < 0) rounded = parseFloat(rounded.toFixed(-exp));\n\n\treturn rounded;\n}\n\nexport { remToPx, roundDown };\n","import { select } from \"d3-selection\";\nimport { remToPx } from \"../utils\";\n\nexport var default_text_size = 1;\n\nvar DEFAULTS = Object.freeze({\n\talignment: \"start\",\n\torientation: \"horizontal\",\n\ttext_color: null,\n\ttitle_weight: \"bold\",\n\ttext_weight: \"normal\",\n\ttext_size: default_text_size\n});\n\nfunction legendContainer(state_) {\n\tthis._state = state_;\n\tfor (var key in DEFAULTS) { if (this._state[key] === undefined) this._state[key] = DEFAULTS[key]; }\n\n\treturn this;\n}\n\nlegendContainer.prototype.appendTo = function (container_) {\n\tthis._container = select(container_).append(\"div\").node();\n\treturn this;\n};\n\nlegendContainer.prototype.add = function (legends) {\n\tthis._legends = Array.isArray(legends) ? legends : [legends];\n\tvar self = this;\n\n\tthis._legends.forEach(function(legend) {\n\t\tif (legend && typeof legend.appendTo == \"function\") legend.appendTo(self._container);\n\t\telse console.warn(\"Please pass in valid legend instances into .add()\");\n\t});\n\n\treturn this;\n};\n\nlegendContainer.prototype.update = function () {\n\tthis._legends.forEach(function(legend) {\n\t\tif (legend && typeof legend.update == \"function\") legend.update();\n\t});\n\n\tvar font_size = this._state.text_size + \"rem\";\n\tvar small_gap = this._state.text_size * 0.2 + \"rem\";\n\tvar mid_gap = this._state.text_size * 0.5 + \"rem\";\n\tvar is_horizontal = this._state.orientation === \"horizontal\";\n\tvar alignment = this._state.alignment;\n\tvar flex_alignment = alignment == \"center\" ? alignment : \"flex-\" + alignment;\n\n\t// ================== //\n\t// MAIN LEGEND STYLES //\n\t// ================== //\n\n\t// Styles for main legend wrapper container\n\tselect(this._container)\n\t\t.style(\"justify-content\", is_horizontal ? flex_alignment: null)\n\t\t.style(\"align-items\", is_horizontal ? null : flex_alignment)\n\t\t.style(\"display\", \"flex\")\n\t\t.style(\"flex-direction\", is_horizontal ? \"row\": \"column\")\n\t\t.style(\"column-gap\", \"1rem\")\n\t\t.style(\"row-gap\", \"0.5rem\");\n\n\t// Styles for each individual legend container\n\tselect(this._container)\n\t\t.selectAll(\".fl-legend-container\")\n\t\t.style(\"justify-content\", flex_alignment)\n\t\t.style(\"column-gap\", mid_gap);\n\n\t// Styles for the titles of each legend\n\tselect(this._container)\n\t\t.selectAll(\".fl-legend-title\")\n\t\t.style(\"color\", this._state.text_color)\n\t\t.style(\"font-weight\", this._state.title_weight)\n\t\t.style(\"font-size\", font_size)\n\t\t.style(\"margin-right\", font_size * 0.25)\n\t\t.style(\"line-height\", \"1.25em\")\n\t\t.style(\"margin-top\", 0)\n\t\t.style(\"margin-bottom\", 0)\n\t\t.style(\"text-align\", alignment);\n\n\n\t// ============================ //\n\t// DISCRETE COLOR LEGEND STYLES //\n\t// ============================ //\n\n\t// Styles for discrete color legend items\n\tselect(this._container).selectAll(\".fl-legend-item\")\n\t\t.style(\"display\", \"inline-flex\")\n\t\t.style(\"gap\", small_gap)\n\t\t.style(\"text-align\", alignment);\n\n\t// Styles discrete color legend labels\n\tselect(this._container)\n\t\t.selectAll(\".fl-legend-label\")\n\t\t.style(\"color\", this._state.text_color)\n\t\t.style(\"font-weight\", this._state.text_weight)\n\t\t.style(\"font-size\", font_size);\n\n\n\t// ===================================== //\n\t// CONTINUOUS SIZE & COLOR LEGEND STYLES //\n\t// ===================================== //\n\n\t// Styles for continuous size and color legend labels\n\tselect(this._container)\n\t\t.selectAll(\".label\")\n\t\t.style(\"color\", this._state.text_color)\n\t\t.style(\"font-weight\", this._state.text_weight)\n\t\t.style(\"margin\", \"0 \" + small_gap)\n\t\t.style(\"font-size\", font_size);\n\n\t// Styles for continuous color labels when legend is in binned mode\n\t// These labels are drawn in canvas, so we're appending the style information\n\t// to the bound data\n\tvar template = window.template || undefined;\n\tvar layout = template ? template.state.layout : undefined;\n\tvar font_color = this._state.text_color || (template && layout && layout.font_color) || \"#333333\";\n\tvar font_family = layout ? layout.body_font.name : window.getComputedStyle(document.body).fontFamily;\n\tvar font_size_in_px = remToPx(this._state.text_size) + \"px\";\n\tvar font_string = this._state.text_weight + \" \" + font_size_in_px + \" \" + font_family;\n\tvar styles = { fillStyle: font_color, font: font_string };\n\tvar pixel_ratio = window.devicePixelRatio || 1;\n\tvar label_h = Math.ceil(remToPx(this._state.text_size) * 0.95);\n\n\tselect(this._container)\n\t\t.selectAll(\".color-range-labels\")\n\t\t.style(\"margin-top\", small_gap)\n\t\t.attr(\"height\", label_h * pixel_ratio)\n\t\t.style(\"height\", label_h + \"px\")\n\t\t.each(function() {\n\t\t\t// We're appending the style information for the binned legend labels\n\t\t\t// to the bound data. This style information is used when the labels\n\t\t\t// get drawn inside the continous color legend code.\n\t\t\tselect(this).datum(styles);\n\t\t});\n\n\n\treturn this;\n};\n\nexport default legendContainer;\n","import { select, event as d3_event } from \"d3-selection\";\nimport { appendTo, format, getContainer, visible, autoTitle, _updateTitle } from \"../common\";\nimport { remToPx } from \"../utils\";\nimport { default_text_size } from \"../container\";\n\nvar legend_count = 0;\nvar DEFAULTS = Object.freeze({\n\tshow_legend: true,\n\n\ttitle_mode: \"auto\",\n\ttitle: \"\",\n\n\tmax_width: 25,\n\n\tswatch_width: 0.75,\n\tswatch_height: 1,\n\tswatch_radius: 3,\n\n\ticon_height: 1,\n\ticon_color: \"#777777\",\n\n\torder_override: \"\",\n\n\torientation: \"horizontal\",\n\n});\n\nfunction DiscreteColorLegend(state_) {\n\tthis._state = state_;\n\tfor (var key in DEFAULTS) {\tif (this._state[key] === undefined) this._state[key] = DEFAULTS[key]; }\n\n\tthis._colorFunction = undefined;\n\tthis._formatFunction = undefined;\n\tthis._legend_items = [];\n\tthis._filtered_items = [];\n\tthis._eventListeners = [];\n\tthis._id = \"fl-legend-discrete-color-\" + legend_count;\n\tthis._visible = true;\n\tthis._auto_title = \"\";\n\n\tthis._container = select(document.createElement(\"div\")).attr(\"class\", \"fl-legend-container\").attr(\"id\", this._id);\n\tthis._container.append(\"p\").attr(\"class\", \"fl-legend-title\");\n\tlegend_count++;\n\n\treturn this;\n}\n\n// Common methods\nDiscreteColorLegend.prototype.appendTo = appendTo;\nDiscreteColorLegend.prototype.format = format;\nDiscreteColorLegend.prototype.getContainer = getContainer;\nDiscreteColorLegend.prototype.visible = visible;\nDiscreteColorLegend.prototype.autoTitle = autoTitle;\nDiscreteColorLegend.prototype._updateTitle = _updateTitle;\n\n\nDiscreteColorLegend.prototype.data = function(items_, colorFunction_) {\n\tthis._colorFunction = colorFunction_;\n\n\tif (!items_ && !colorFunction_) return this._legend_items.slice();\n\n\tif (!colorFunction_) this._legend_items = Array.isArray(items_) ? items_.slice() : [];\n\telse if (!Array.isArray(items_)) this._legend_items = [];\n\telse {\n\t\tthis._legend_items = items_.slice().map(function(legend_item, i) {\n\t\t\tvar legend_item_label = typeof legend_item == \"object\" ? legend_item.label || \"\" : legend_item;\n\t\t\treturn !legend_item_label ? null : {\n\t\t\t\tlabel: legend_item_label,\n\t\t\t\tcolor: colorFunction_(legend_item_label),\n\t\t\t\tindex: i\n\t\t\t};\n\t\t}).filter(function(legend_item) { return legend_item !== null; });\n\t}\n\treturn this;\n};\n\nDiscreteColorLegend.prototype.filtered = function(items_) {\n\tif (!items_) return this._filtered_items.slice();\n\tthis._filtered_items = Array.isArray(items_) ? items_.slice() : [];\n\treturn this;\n};\n\nDiscreteColorLegend.prototype.on = function(type, callback) {\n\tif (!this._container) return this;\n\n\t// Update list of event listeners, so we know if there are any interactions going on\n\tif (callback && this._eventListeners.indexOf(type) < 0) this._eventListeners.push(type);\n\telse if (!callback) this._eventListeners.splice(this._eventListeners.indexOf[type], 1);\n\tthis._container.classed(\"interactive\", this._eventListeners.length > 0);\n\n\t// Remove event listener if callback is empty\n\tif (!callback) this._container.on(type, null);\n\telse {\n\t\tthis._container.on(type, function() {\n\t\t\tvar t = d3_event.target, t_parent = t.parentNode;\n\t\t\tvar item = t.classList.contains(\"fl-legend-item\") ? t : (t_parent.classList.contains(\"fl-legend-item\") ? t_parent : null);\n\t\t\tif (item) {\n\t\t\t\tvar item_data = select(item).datum();\n\t\t\t\tcallback.call(item, item_data, item_data.index);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn this;\n};\n\nDiscreteColorLegend.prototype.update = function() {\n\tvar should_display = this._state.show_legend && this._visible && this._legend_items.length > 0;\n\n\tthis._container.style(\"display\", should_display ? \"\" : \"none\");\n\n\tif (!should_display) return this;\n\n\tthis._updateTitle();\n\tthis._updateLegend();\n\n\treturn this;\n};\n\nfunction sortByOrderOverride(items, order_override_string) {\n\t// First build a lookup table from each of the overridden legend\n\t// labels to the index of its new position in the legend.\n\tvar new_index_lookup = {};\n\tvar overrides = order_override_string.split(/\\s*\\n\\s*/);\n\tfor (var i = 0; i < overrides.length; i++) {\n\t\tvar override = overrides[i];\n\t\tnew_index_lookup[override] = i;\n\t}\n\t// Now go through each of the original items and if it appears in\n\t// the lookup table, set it at its new position in sorted_items.\n\tvar sorted_items = [];\n\tfor (var old_index = 0; old_index < items.length; old_index++) {\n\t\tvar item = items[old_index];\n\t\tvar new_index = new_index_lookup[item.label];\n\t\tif (new_index === undefined) continue;\n\t\tsorted_items[new_index] = item;\n\t}\n\t// If there was any override that isn't a legend label (e.g. it's\n\t// mispelled), there'll be a \"hole\" in the sorted_items array, so\n\t// compact it before returning.\n\treturn sorted_items.filter(function (item) { return item !== undefined; });\n}\n\nDiscreteColorLegend.prototype._updateLegend = function() {\n\tvar _this = this;\n\tvar format = this._formatFunction;\n\tthis._container\n\t\t.style(\"max-width\", remToPx(this._state.max_width) + \"px\")\n\t\t.style(\"display\", \"inline-flex\")\n\t\t.style(\"flex-wrap\", \"wrap\")\n\t\t.style(\"align-items\", this._state.orientation == \"horizontal\" ? \"center\" : \"start\")\n\t\t.style(\"align-content\", this._state.orientation == \"horizontal\" ? \"center\" : null)\n\t\t.style(\"flex-direction\", this._state.orientation == \"horizontal\" ? null : \"column\");\n\n\tvar legend_item_data;\n\tif (this._state.order_override.trim()) {\n\t\tlegend_item_data = sortByOrderOverride(this._legend_items, this._state.order_override);\n\t}\n\telse {\n\t\tlegend_item_data = this._legend_items;\n\t}\n\n\tvar legend_items = this._container\n\t\t.selectAll(\".fl-legend-item\")\n\t\t.data(legend_item_data);\n\n\tvar legend_items_enter = legend_items\n\t\t.enter()\n\t\t.append(\"div\")\n\t\t.attr(\"class\", \"fl-legend-item\");\n\n\tlegend_items_enter\n\t\t.append(\"div\")\n\t\t.attr(\"class\", \"fl-legend-swatch\");\n\n\tlegend_items_enter\n\t\t.append(\"svg\")\n\t\t.attr(\"class\", \"fl-legend-icon\")\n\t\t.append(\"path\");\n\n\tlegend_items_enter\n\t\t.append(\"p\")\n\t\t.attr(\"class\", \"fl-legend-label\");\n\n\tvar legend_items_update = legend_items.merge(legend_items_enter);\n\n\tlegend_items_update\n\t\t.style(\"display\", this._state.orientation == \"horizontal\" ? \"inline-flex\" : \"flex\")\n\t\t.style(\"opacity\", function(d) {\n\t\t\treturn _this._filtered_items.indexOf(d.label) > -1 ? 0.2 : \"\";\n\t\t})\n\t\t.style(\"align-items\", \"center\")\n\t\t.style(\"column-gap\", default_text_size * 0.2 + \"rem\");\n\n\t// Swatch\n\tlegend_items_update.select(\".fl-legend-swatch\")\n\t\t.style(\"height\", this._state.swatch_height + \"rem\")\n\t\t.style(\"width\", this._state.swatch_width + \"rem\")\n\t\t.style(\"border-radius\", this._state.swatch_radius + \"px\")\n\t\t.style(\"background-color\", function(d) { return d.color; })\n\t\t// Only display if icon not defined\n\t\t.style(\"display\", function(d) {\n\t\t\treturn d.icon ? \"none\" : null;\n\t\t});\n\n\t// Icon\n\tlegend_items_update.select(\".fl-legend-icon\")\n\t\t// Using Math.ceil on SVG width and height seems to prevent subtle cropping of the icon edges (particularly apparent in outline mode)\n\t\t.attr(\"height\", Math.ceil(remToPx(this._state.icon_height)))\n\t\t.attr(\"width\", function(d) {\n\t\t\tif (!d.icon) return 0;\n\n\t\t\tvar w = d.icon.width;\n\t\t\tvar h = d.icon.height;\n\t\t\tvar stroke_width = d.outline ? h * d.stroke_thickness : 0;\n\t\t\tw += stroke_width;\n\t\t\th += stroke_width;\n\n\t\t\tvar aspect_ratio = w / h;\n\t\t\tvar width_px = remToPx(_this._state.icon_height * aspect_ratio);\n\t\t\treturn Math.ceil(width_px);\n\t\t})\n\t\t.style(\"margin-right\", this._state.text_size * 0.25 + \"rem\")\n\t\t.style(\"display\", function(d) {\n\t\t\treturn d.icon ? \"inline-block\" : \"none\";\n\t\t})\n\t\t.select(\"path\")\n\t\t.attr(\"d\", function(d) {\n\t\t\treturn d.icon ? d.icon.path_string : null;\n\t\t})\n\t\t.attr(\"transform\", function(d) {\n\t\t\tif (!d.icon) return null;\n\n\t\t\tvar h = d.icon.height;\n\t\t\tvar stroke_width = d.outline ? h * d.stroke_thickness : 0;\n\t\t\th += stroke_width;\n\n\t\t\tvar svg_height = remToPx(_this._state.icon_height);\n\t\t\tvar scale_factor = svg_height / h;\n\n\t\t\tvar transform = \"scale(\" + scale_factor + \")\";\n\t\t\ttransform += \"translate(\" + 0.5 * stroke_width + \",\" + 0.5 * stroke_width + \")\";\n\n\t\t\treturn transform;\n\t\t})\n\t\t.style(\"fill\", function(d) {\n\t\t\tif (d.outline) return \"none\";\n\t\t\treturn d.color || _this._state.icon_color;\n\t\t})\n\t\t.style(\"stroke\", function(d) {\n\t\t\tif (!d.outline) return \"none\";\n\t\t\treturn d.color || _this._state.icon_color;\n\t\t})\n\t\t.style(\"stroke-width\", function(d) {\n\t\t\tif (!d.outline) return 0;\n\t\t\tvar stroke_width = d.icon.height * d.stroke_thickness;\n\t\t\treturn stroke_width;\n\t\t});\n\n\t// Label\n\tlegend_items_update.select(\".fl-legend-label\")\n\t\t.text(function(d) {\n\t\t\treturn format ? format(d.label) : d.label;\n\t\t})\n\t\t.style(\"margin\", 0)\n\t\t.style(\"user-select\", \"none\");\n\n\tlegend_items.exit().remove();\n\n\tthis._legend_item_els = legend_items_update;\n\n\treturn this;\n};\n\nexport default DiscreteColorLegend;\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": formatDecimal,\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\nimport {linearish} from \"./linear\";\nimport {loggish} from \"./log\";\nimport {symlogish} from \"./symlog\";\nimport {powish} from \"./pow\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (t0 = transform(x0 = +_[0]), t1 = transform(x1 = +_[1]), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\nimport {linearish} from \"./linear\";\nimport {loggish} from \"./log\";\nimport {copy} from \"./sequential\";\nimport {symlogish} from \"./symlog\";\nimport {powish} from \"./pow\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (x < t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (t0 = transform(x0 = +_[0]), t1 = transform(x1 = +_[1]), t2 = transform(x2 = +_[2]), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1);\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","import { select } from \"d3-selection\";\nimport { scaleLinear } from \"d3-scale\";\nimport { appendTo, format, getContainer, visible, autoTitle, _updateTitle, getDomain } from \"../common\";\nimport { remToPx } from \"../utils\";\n\nvar legend_count = 0;\nvar pixel_ratio = window.devicePixelRatio || 1;\nvar DEFAULTS = Object.freeze({\n\tshow_legend: true,\n\n\ttitle_mode: \"auto\",\n\ttitle: \"\",\n\n\tcolor_band_width: 8,\n\tcolor_band_height: 1,\n\tcolor_band_radius: 3,\n\n\tbinned_label_mode: \"thresholds\",\n\tbinned_label_custom: \"\",\n\n\tlegend_min: null,\n\tlegend_max: null,\n\n});\n\nfunction ContinuousColorLegend(state_) {\n\tthis._state = state_;\n\tfor (var key in DEFAULTS) {\tif (this._state[key] === undefined) this._state[key] = DEFAULTS[key]; }\n\n\tthis._colorFunction = undefined;\n\tthis._formatFunction = undefined;\n\tthis._legend_domain = [];\n\tthis._id = \"fl-legend-continuous-color-\" + legend_count;\n\tthis._visible = true;\n\tthis._marker_value = null;\n\tthis._auto_title = \"\";\n\n\tthis._container = select(document.createElement(\"div\")).attr(\"class\", \"fl-legend-container\").attr(\"id\", this._id).style(\"display\", \"none\");\n\tthis._container.append(\"p\").classed(\"fl-legend-title\", true);\n\tthis._container.append(\"div\").classed(\"min label\", true);\n\tthis._container.append(\"div\").classed(\"color-range-container\", true);\n\tthis._container.select(\".color-range-container\").append(\"canvas\").classed(\"color-range\", true);\n\tthis._container.select(\".color-range-container\").append(\"canvas\").classed(\"color-range-labels\", true);\n\tthis._container.append(\"div\").classed(\"max label\", true);\n\n\tlegend_count++;\n\n\treturn this;\n}\n\n// Common methods\nContinuousColorLegend.prototype.appendTo = appendTo;\nContinuousColorLegend.prototype.format = format;\nContinuousColorLegend.prototype.getContainer = getContainer;\nContinuousColorLegend.prototype.visible = visible;\nContinuousColorLegend.prototype.autoTitle = autoTitle;\nContinuousColorLegend.prototype._updateTitle = _updateTitle;\n\nContinuousColorLegend.prototype.data = function(items_, colorFunction_) {\n\t// items_ must be a 2-element or 3-element domain array [minValue, midValue, maxValue]\n\t// colorFunction_ must be a scale function with color range\n\tif (!items_ && !colorFunction_) return this._legend_domain.slice();\n\n\tvar items = Array.isArray(items_) ? items_.slice() : [];\n\n\tthis._legend_domain = getDomain(items, this._state);\n\tthis._colorFunction = colorFunction_;\n\n\treturn this;\n};\n\nContinuousColorLegend.prototype.markerValue = function(value) {\n\tif (value === undefined) return this._marker_value;\n\tthis._marker_value = value;\n\treturn this;\n};\n\nContinuousColorLegend.prototype.update = function() {\n\tvar should_display = this._state.show_legend && this._visible && this._legend_domain.length > 0;\n\n\tthis._container.style(\"display\", should_display ? \"\" : \"none\");\n\n\tif (!should_display) return this;\n\n\tthis._updateTitle();\n\tthis._updateLegend();\n\n\treturn this;\n};\n\nContinuousColorLegend.prototype._updateLegend = function() {\n\tvar domain = this._legend_domain;\n\n\tthis._scale_type = \"continuous\";\n\tif (this._colorFunction.thresholds) this._scale_type = \"binned\";\n\telse if (domain.length > 2) this._scale_type = \"diverging\";\n\n\tvar s = this._state;\n\n\tvar w = remToPx(s.color_band_width);\n\tvar h = remToPx(s.color_band_height);\n\tvar label_w = w;\n\n\tthis._container.style(\"display\", \"inline-flex\")\n\t\t.style(\"align-items\", \"center\");\n\n\tthis._container.select(\".color-range-container\")\n\t\t.style(\"display\", \"inline-block\");\n\n\tvar canvas = this._container\n\t\t.select(\".color-range\")\n\t\t.attr(\"width\", w * pixel_ratio)\n\t\t.attr(\"height\", h * pixel_ratio)\n\t\t.style(\"border-radius\", s.color_band_radius + \"px\")\n\t\t.style(\"width\", w + \"px\")\n\t\t.style(\"height\", h + \"px\")\n\t\t.style(\"display\", \"block\");\n\n\tthis._container\n\t\t.select(\".color-range-labels\")\n\t\t.attr(\"width\", label_w * pixel_ratio)\n\t\t.style(\"width\", label_w + \"px\")\n\t\t.style(\"display\", this._scale_type == \"continuous\" ? \"none\" : \"block\")\n\t\t.node().getContext(\"2d\").scale(pixel_ratio, pixel_ratio);\n\n\t// Update canvas\n\tvar ctx = canvas.node().getContext(\"2d\");\n\tctx.scale(pixel_ratio, pixel_ratio);\n\n\tfunction xToVal(x) {\n\t\treturn domain.min + (x / w) * (domain.max - domain.min);\n\t}\n\n\tfor (var x = 0; x < w; x++) {\n\t\tvar color = this._colorFunction(xToVal(x));\n\t\tctx.fillStyle = color;\n\t\tctx.strokeStyle = color;\n\t\tctx.fillRect(x, 0, 1, h);\n\t\tctx.strokeRect(x, 0, 1, h);\n\t}\n\n\tif (this._marker_value !== null) {\n\t\tvar xScale = scaleLinear().domain([domain.min, domain.max]).range([0, w]);\n\t\tvar x_marker = xScale(this.markerValue());\n\t\tvar y_top = 0;\n\t\tvar y_bottom = h;\n\t\tctx.save();\n\t\tctx.strokeStyle = \"#FFFFFF\";\n\t\tctx.lineWidth = 3;\n\t\tctx.beginPath();\n\t\tctx.moveTo(x_marker, y_top);\n\t\tctx.lineTo(x_marker, y_bottom);\n\t\tctx.stroke();\n\t\tctx.strokeStyle = \"#000000\";\n\t\tctx.lineWidth = 1;\n\t\tctx.beginPath();\n\t\tctx.moveTo(x_marker, y_top);\n\t\tctx.lineTo(x_marker, y_bottom);\n\t\tctx.stroke();\n\t\tctx.restore();\n\t}\n\n\tthis._updateLegendLabels();\n};\n\nContinuousColorLegend.prototype._updateLegendLabels = function () {\n\tvar label_canvas = this._container.select(\".color-range-labels\");\n\tvar format = this._formatFunction;\n\tvar domain = this._legend_domain;\n\tvar s = this._state;\n\n\tthis._container\n\t\t.select(\".min.label\")\n\t\t.style(\"display\", this._scale_type == \"continuous\" ? \"inline-block\" : \"none\")\n\t\t.style(\"vertical-align\", \"middle\")\n\t\t.style(\"user-select\", \"none\")\n\t\t.style(\"line-height\", \"1.25em\")\n\t\t.text(function () {\n\t\t\treturn format ? format(domain.min) : domain.min;\n\t\t});\n\n\tthis._container\n\t\t.select(\".max.label\")\n\t\t.style(\"display\", this._scale_type == \"continuous\" ? \"inline-block\" : \"none\")\n\t\t.style(\"vertical-align\", \"middle\")\n\t\t.style(\"user-select\", \"none\")\n\t\t.style(\"line-height\", \"1.25em\")\n\t\t.text(function () {\n\t\t\treturn format ? format(domain.max) : domain.max;\n\t\t});\n\n\tvar labels = [];\n\tvar label_padding_start = 0;\n\tvar label_padding_end = 0;\n\tif (this._scale_type === \"diverging\") labels = this._getDivergingLabels();\n\telse if (this._scale_type === \"binned\") labels = this._getBinnedLabels();\n\n\tif (labels.length) {\n\t\tvar ctx = label_canvas.node().getContext(\"2d\");\n\t\tctx.textAlign = \"center\";\n\t\tctx.textBaseline = \"top\";\n\n\t\tvar prepLabel = (function () {\n\t\t\tvar placed_labels = [];\n\t\t\tvar band_width = remToPx(s.color_band_width);\n\t\t\tvar inRange = getInRangeFunction([0, band_width]);\n\t\t\tvar scale = scaleLinear().domain([domain.min, domain.max]).range([0, band_width]);\n\n\t\t\treturn function (value) {\n\t\t\t\tvar center = scale(value);\n\n\t\t\t\tif (!inRange(center)) return;\n\n\t\t\t\tvar text = format ? format(value) : value;\n\t\t\t\tvar half_width = (ctx.measureText(text).width / 2) + 1;\n\t\t\t\tvar left = center - half_width;\n\t\t\t\tvar right = center + half_width;\n\n\t\t\t\tvar index = 0;\n\t\t\t\tvar n = placed_labels.length;\n\n\t\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\t\tif (center > placed_labels[i].center) index++;\n\t\t\t\t\telse break;\n\t\t\t\t}\n\n\t\t\t\tvar at_start = index === 0;\n\t\t\t\tvar at_end = index === n;\n\t\t\t\tif (!at_start && placed_labels[index - 1].right > left) return;\n\t\t\t\tif (!at_end && placed_labels[index].left < right) return;\n\t\t\t\tif (at_start) label_padding_start = Math.abs(Math.min(0, left));\n\t\t\t\tif (at_end) label_padding_end = Math.max(0, right - band_width);\n\n\t\t\t\tplaced_labels.splice(index, 0, { left: left, center: center, right: right });\n\t\t\t\treturn { text: text, position: center };\n\t\t\t};\n\t\t})();\n\n\t\tvar prepped_labels = labels.map(function (value) {\n\t\t\treturn prepLabel(value);\n\t\t});\n\n\t\tvar label_canvas_width = remToPx(s.color_band_width) + label_padding_start + label_padding_end;\n\n\t\tlabel_canvas\n\t\t.attr(\"width\", label_canvas_width * pixel_ratio)\n\t\t.style(\"width\", label_canvas_width + \"px\");\n\t\tselect(\".color-range\").style(\"margin-left\", label_padding_start + \"px\");\n\n\t\tctx.scale(pixel_ratio, pixel_ratio);\n\t\tctx.textAlign = \"center\";\n\t\tctx.textBaseline = \"top\";\n\n\t\tvar data = label_canvas.datum();\n\t\tfor (var key in data) {\n\t\t\tctx[key] = data[key];\n\t\t}\n\t\tprepped_labels.forEach(function(label) {\n\t\t\tif (label) ctx.fillText(label.text, label.position + label_padding_start, 0);\n\t\t});\n\t}\n};\n\nContinuousColorLegend.prototype._getDivergingLabels = function() {\n\tvar domain = this._legend_domain;\n\tvar inRange = getInRangeFunction(domain);\n\tvar labels = [];\n\n\tif (inRange(domain.min)) labels.push(domain.min);\n\tif (inRange(domain.mid)) labels.push(domain.mid);\n\tif (inRange(domain.max)) labels.push(domain.max);\n\n\treturn labels;\n};\n\nContinuousColorLegend.prototype._getBinnedLabels = function () {\n\tvar s = this._state;\n\tvar domain = this._legend_domain;\n\tvar inRange = getInRangeFunction(domain);\n\tvar labels;\n\n\tif (s.binned_label_mode === \"thresholds\") {\n\t\tlabels = this._colorFunction.thresholds.slice().filter(inRange);\n\t\tif (domain.min < labels[0]) labels.unshift(domain.min);\n\t\tif (domain.max > labels[labels.length - domain.length - 1]) labels.unshift(domain.max);\n\t}\n\telse if (s.binned_label_mode === \"centers\") {\n\t\tlabels = this._colorFunction.centers.slice().filter(inRange);\n\t\tif (labels.length) {\n\t\t\tvar thresholds = this._colorFunction.thresholds;\n\t\t\tvar first_threshold = thresholds[0];\n\t\t\tvar last_threshold = thresholds[thresholds.length - 1];\n\t\t\tif (first_threshold > domain.min) labels.unshift((domain.min + first_threshold) / 2);\n\t\t\tif (last_threshold < domain.max) labels.unshift((last_threshold + domain.max) / 2);\n\t\t}\n\t\telse labels.push((domain.min + domain.max) / 2);\n\t}\n\telse labels = s.binned_label_custom.split(\";\").map(parseFloat);\n\n\treturn labels;\n};\n\nfunction getInRangeFunction(range) {\n\tvar legend_max = -Infinity;\n\tvar legend_min = Infinity;\n\tfor (var i in range) {\n\t\tlegend_max = Math.max(legend_max, range[i]);\n\t\tlegend_min = Math.min(legend_min, range[i]);\n\t}\n\treturn function (val) { return val >= legend_min && val <= legend_max; };\n}\n\nexport default ContinuousColorLegend;\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import { select } from \"d3-selection\";\nimport { appendTo, format, getContainer, visible, autoTitle, _updateTitle } from \"../common\";\nimport { remToPx, roundDown } from \"../utils\";\n\nvar legend_count = 0;\nvar DEFAULTS = Object.freeze({\n\tshow_legend: true,\n\n\ttitle_mode: \"auto\",\n\ttitle: \"\",\n\n\tclip_height: 1,\n\tsmall_circle_size: 0.5,\n\n\tshape_fill: \"#eeeeee\",\n\tshape_stroke: \"#555555\",\n\n});\n\nfunction ContinuousSizeLegend(state_) {\n\tthis._state = state_;\n\tfor (var key in DEFAULTS) {\tif (this._state[key] === undefined) this._state[key] = DEFAULTS[key]; }\n\n\tthis._scaleFunction = undefined;\n\tthis._formatFunction = undefined;\n\tthis._id = \"fl-legend-continuous-size-\" + legend_count;\n\tthis._visible = true;\n\tthis._auto_title = \"\";\n\n\tthis._container = select(document.createElement(\"div\"))\n\t\t.attr(\"class\", \"fl-legend-container\")\n\t\t.attr(\"id\", this._id)\n\t\t.style(\"display\", \"none\")\n\t\t.style(\"align-items\", \"center\");\n\n\tthis._container.append(\"p\")\n\t\t.attr(\"class\", \"fl-legend-title\");\n\n\tthis._container.append(\"div\")\n\t\t.classed(\"min label\", true);\n\n\tvar circles_container = this._container.append(\"div\")\n\t\t.classed(\"circles\", true);\n\n\tcircles_container.append(\"canvas\")\n\t\t.classed(\"min circle\", true);\n\n\tcircles_container.append(\"canvas\")\n\t\t.classed(\"max circle\", true);\n\n\tthis._container.append(\"div\")\n\t\t.classed(\"max label\", true);\n\n\tlegend_count++;\n\n\treturn this;\n}\n\n// Common methods\nContinuousSizeLegend.prototype.appendTo = appendTo;\nContinuousSizeLegend.prototype.format = format;\nContinuousSizeLegend.prototype.autoTitle = autoTitle;\nContinuousSizeLegend.prototype._updateTitle = _updateTitle;\nContinuousSizeLegend.prototype.getContainer = getContainer;\nContinuousSizeLegend.prototype.visible = visible;\n\n\nContinuousSizeLegend.prototype.scale = function(scaleFunction_) {\n\t// scaleFunction_ must be a scale function with size (radius) range\n\t// domain and range are assumed to be [0, max] where max is a number > 0\n\tif (scaleFunction_ === undefined) return this._scaleFunction;\n\n\tthis._scaleFunction = scaleFunction_;\n\n\treturn this;\n};\n\nContinuousSizeLegend.prototype.update = function() {\n\tvar should_display = this._state.show_legend && this._visible;\n\n\tvar h = Math.ceil(remToPx(this._state.clip_height));\n\tthis._container\n\t\t.style(\"display\", should_display ? \"inline-flex\" : \"none\")\n\t\t.style(\"align-items\", \"center\")\n\t\t.style(\"min-height\", h + \"px\");\n\n\tif (!should_display || !this._scaleFunction) return this;\n\n\tif (this._scaleFunction.domain()[0] !== 0) {\n\t\tconsole.warn(\"Non zero domain[0] in ContinuousSizeLegend\");\n\t}\n\n\tif (this._scaleFunction.range()[0] !== 0) {\n\t\tconsole.warn(\"Non zero range[0] in ContinuousSizeLegend\");\n\t}\n\n\tthis._updateTitle();\n\tthis._updateLegend();\n\n\treturn this;\n};\n\nContinuousSizeLegend.prototype._updateLegend = function() {\n\tvar domain = this._scaleFunction.domain();\n\tvar range = this._scaleFunction.range();\n\tvar format = this._formatFunction;\n\tvar s = this._state;\n\tvar h = remToPx(s.clip_height);\n\th = Math.ceil(Math.min(h, range[1] * 2));\n\tvar pixel_ratio = window.devicePixelRatio || 1;\n\n\tvar fill = s.shape_fill;\n\tvar stroke = s.shape_stroke;\n\n\tthis._container\n\t\t.style(\"min-height\", h + \"px\");\n\n\tthis._container.select(\".circles\")\n\t\t.style(\"display\", \"flex\")\n\t\t.style(\"flex-wrap\", \"nowrap\");\n\n\t// Calculate max circle size\n\tvar val_max_unrounded = this._scaleFunction.invert(h/2);\n\tval_max_unrounded = Math.min(val_max_unrounded, domain[1]);\n\tvar val_max = roundDown(val_max_unrounded) || 0;\n\n\t// Min circle\n\tvar val_min = val_max * s.small_circle_size;\n\tvar r_min = this._scaleFunction(val_min);\n\tvar w_min = Math.ceil(2 * r_min) + 2;\n\tvar canvas_min = this._container\n\t\t.select(\".min.circle\")\n\t\t.style(\"width\", w_min + \"px\")\n\t\t.style(\"height\", h + \"px\")\n\t\t.attr(\"width\", w_min * pixel_ratio)\n\t\t.attr(\"height\", h * pixel_ratio)\n\t\t.style(\"margin-right\", \"0.05rem\");\n\n\tthis._container\n\t\t.select(\".min.label\")\n\t\t.style(\"user-select\", \"none\")\n\t\t.style(\"line-height\", \"1.25em\")\n\t\t.text(function () {\n\t\t\treturn format ? format(val_min) : val_min;\n\t\t});\n\n\tvar ctx_min = canvas_min.node().getContext(\"2d\");\n\tctx_min.scale(pixel_ratio, pixel_ratio);\n\tctx_min.fillStyle = fill;\n\tctx_min.clearRect(0, 0, 2 * r_min, 2 * r_min);\n\n\tctx_min.beginPath();\n\tctx_min.fillStyle = stroke;\n\tctx_min.arc(0.5 * w_min, 0.5 * h, r_min, 0, 2 * Math.PI);\n\tctx_min.fill();\n\n\tctx_min.beginPath();\n\tctx_min.fillStyle = fill;\n\tctx_min.arc(0.5 * w_min, 0.5 * h, Math.max(r_min - 1, 0), 0, 2 * Math.PI);\n\tctx_min.fill();\n\n\t// Max circle\n\tvar r_max = this._scaleFunction(val_max);\n\tvar w_max = Math.ceil(2 * r_max) + 2;\n\n\tvar canvas_max = this._container\n\t\t.select(\".max.circle\")\n\t\t.style(\"width\", w_max + \"px\")\n\t\t.style(\"height\", h + \"px\")\n\t\t.attr(\"width\", w_max * pixel_ratio)\n\t\t.attr(\"height\", h * pixel_ratio)\n\t\t.style(\"margin-left\", \"0.05rem\");\n\n\tthis._container\n\t\t.select(\".max.label\")\n\t\t.style(\"user-select\", \"none\")\n\t\t.style(\"line-height\", \"1.25em\")\n\t\t.text(function () {\n\t\t\treturn format ? format(val_max) : val_max;\n\t\t});\n\n\tvar ctx_max = canvas_max.node().getContext(\"2d\");\n\tctx_max.scale(pixel_ratio, pixel_ratio);\n\tctx_max.clearRect(0, 0, 2 * r_max, 2 * r_max);\n\n\t// To ensure size of larger circle is accurate, draw two circles where the\n\t// outer (darker) one is the required size and the inside one slightly smaller\n\t// This gives the impression of a circle with darker stroke\n\tctx_max.beginPath();\n\tctx_max.fillStyle = stroke;\n\tctx_max.arc(0.5 * w_max, 0.5 * h, r_max, 0, 2 * Math.PI);\n\tctx_max.fill();\n\n\tctx_max.beginPath();\n\tctx_max.fillStyle = fill;\n\tctx_max.arc(0.5 * w_max, 0.5 * h, Math.max(r_max - 1, 0), 0, 2 * Math.PI);\n\tctx_max.fill();\n};\n\nexport default ContinuousSizeLegend;\n","var DEFAULTS = Object.freeze({\n\tscale_type: \"categorical\",\n\n\tcategorical_type: \"palette\",\n\tcategorical_palette: [\"#1D6996\", \"#EDAD08\", \"#73AF48\", \"#94346E\", \"#38A6A5\", \"#E17C05\", \"#5F4690\", \"#0F8554\", \"#6F4070\", \"#CC503E\", \"#994E95\", \"#666666\"],\n\tcategorical_extend: true,\n\tcategorical_custom_palette: \"\",\n\n\tnumeric_type: \"sequential\",\n\n\tsequential_palette: \"Blues\",\n\tsequential_custom_min: \"#FFFFFF\",\n\tsequential_custom_max: \"#000000\",\n\tsequential_color_space: \"rgb\",\n\tsequential_reverse: false,\n\tsequential_custom_domain: false,\n\tsequential_domain_min: 0,\n\tsequential_domain_max: 1,\n\n\tdiverging_palette: \"RdBu\",\n\tdiverging_custom_min: \"#67001f\",\n\tdiverging_custom_mid: \"#f7f7f7\",\n\tdiverging_custom_max: \"#053061\",\n\tdiverging_color_space: \"rgb\",\n\tdiverging_reverse: false,\n\tdiverging_custom_domain: false,\n\tdiverging_domain_min: 0,\n\tdiverging_domain_mid: 0.5,\n\tdiverging_domain_max: 1,\n\n\tbinning: false,\n\tbin_count: 4,\n\tbin_mode: \"fixed\",\n\tbin_thresholds: \"\"\n});\n\n\nvar DEFAULT_FALLBACK_VALUE = null;\n\n\nexport { DEFAULTS, DEFAULT_FALLBACK_VALUE };\n","import { color as d3_color } from \"d3-color\";\n\nvar GOLDEN_RATIO = (1 + Math.sqrt(5)) / 2;\nvar DEFAULT_ANGLE = 360 / GOLDEN_RATIO;\nvar DEFAULT_COLOR = \"#FF0000\";\n\n\nfunction hueRotationGenerator(colorSpace, second_channel_name, third_channel_name) {\n\treturn function (init_colors, angle) {\n\t\tif (!Array.isArray(init_colors)) init_colors = init_colors ? [ init_colors ] : [ DEFAULT_COLOR ];\n\t\tangle = angle !== undefined ? angle : DEFAULT_ANGLE;\n\n\t\t// Convert colors to colorspace of choice\n\t\tvar palette = init_colors.map(function(col) { return colorSpace(col); })\n\t\t\t.filter(function(col) { return !isNaN(col[second_channel_name]) && !isNaN(col[third_channel_name]); });\n\n\t\tif (!palette.length) palette = [colorSpace(DEFAULT_COLOR)];\n\t\tvar n = palette.length;\n\n\t\t// Get average values of second and third channels\n\t\tvar second_channel = palette.reduce(function(a, col) { return (a + col[second_channel_name]); }, 0) / n;\n\t\tvar third_channel = palette.reduce(function(a, col) { return a + col[third_channel_name]; }, 0) / n;\n\n\t\tvar counter = n;\n\t\tvar h_init;\n\t\tdo h_init = palette[--counter].h; // Try to base initial hue on last color that isn't grey\n\t\twhile (isNaN(h_init) && counter > 0); // Grey hue is NaN\n\n\t\tvar i = 0;\n\n\t\treturn function nextColor() {\n\t\t\tvar rotation = ++i * angle;\n\t\t\tvar h = (h_init + rotation) % 360;\n\t\t\treturn d3_color(colorSpace(h, second_channel, third_channel)).hex();\n\t\t};\n\t};\n}\n\n\nexport { hueRotationGenerator };\n","import { hcl } from \"d3-color\";\nimport { hueRotationGenerator } from \"./generate\";\n\nvar hclGenerator = hueRotationGenerator(hcl, \"c\", \"l\");\n\nexport { hclGenerator };\n","import { set as d3_set } from \"d3-collection\";\nimport { hclGenerator, hslGenerator } from \"@flourish/color-generator\";\nimport { DEFAULTS } from \"../defaults\";\n\nvar color_generators = {\n\thcl: hclGenerator,\n\thsl: hslGenerator\n};\n\n\nfunction getCategoricalFunction(state, domain) {\n\tvar lookup = {};\n\n\tvar unique_domain = d3_set(domain).values();\n\tvar palette = state.categorical_palette;\n\tvar n = palette.length;\n\n\tif (state.categorical_extend) {\n\t\tvar angle = DEFAULTS.rotation_angle;\n\t\tvar generator_name = \"hcl\";\n\t\tvar colorGenerator = color_generators[generator_name](palette, angle);\n\t\tunique_domain.forEach(function(label, i) {\n\t\t\tif (i < n) lookup[label] = palette[i];\n\t\t\telse lookup[label] = colorGenerator();\n\t\t});\n\t}\n\telse {\n\t\tunique_domain.forEach(function(label, i) {\n\t\t\tlookup[label] = palette[i % n];\n\t\t});\n\t}\n\n\tstate.categorical_custom_palette.split(\"\\n\")\n\t\t.filter(function(str) { return str; }) // remove empty lines\n\t\t.forEach(function(str) {\n\t\t\tvar index = str.lastIndexOf(\":\");\n\t\t\tif (index === -1) return;\n\t\t\tvar label = str.slice(0, index).trim();\n\t\t\tvar col = str.slice(index + 1).trim();\n\t\t\tif (label && col) lookup[label] = col;\n\t\t});\n\n\tvar colorScale =  function(value) {\n\t\treturn lookup[value];\n\t};\n\n\tcolorScale.domain = unique_domain.slice();\n\tcolorScale.colors = unique_domain.map(function(d) { return lookup[d]; });\n\tcolorScale.items = unique_domain.map(function(d) { return { label: d, color: lookup[d] }; });\n\n\treturn colorScale;\n}\n\n\nexport { getCategoricalFunction };\n","import { hsl } from \"d3-color\";\nimport { hueRotationGenerator } from \"./generate\";\n\nvar hslGenerator = hueRotationGenerator(hsl, \"s\", \"l\");\n\nexport { hslGenerator };\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import { scaleQuantize, scaleQuantile, scaleThreshold } from \"d3-scale\";\n\nexport function binnedScale(state, domain, values, interpolator) {\n\tvar domain_min = domain[0];\n\tvar domain_max = domain[domain.length - 1];\n\tvar centers = [], thresholds, n;\n\n\tif (state.bin_mode == \"custom\") {\n\t\tthresholds = state.bin_thresholds\n\t\t\t.split(\";\")\n\t\t\t.map(parseFloat)\n\t\t\t.filter(function (val) {\n\t\t\t\tif (isNaN(val)) return false;\n\t\t\t\treturn val > domain_min && val < domain_max;\n\t\t\t})\n\t\t\t.sort(ascendingSort);\n\t\tn = thresholds.length + 1;\n\t}\n\telse {\n\t\tn = Math.floor(state.bin_count);\n\t\tthresholds = [];\n\t}\n\n\tvar palette = interpolatePalette(interpolator, n, domain);\n\tvar scale;\n\tif (state.bin_mode == \"fixed\") scale = scaleQuantize().domain([domain_min, domain_max]);\n\telse if (state.bin_mode == \"quantile\") scale = scaleQuantile().domain(values);\n\telse scale = scaleThreshold().domain(thresholds);\n\tscale.range(palette.colors);\n\n\tif (!thresholds.length) {\n\t\tpalette.colors.forEach(function (color, i) {\n\t\t\tif (i) thresholds.push(scale.invertExtent(color)[0]);\n\t\t});\n\t}\n\n\tthresholds.forEach(function (threshold, i) {\n\t\tif (i < (thresholds.length - 1)) centers.push((thresholds[i + 1] + threshold) / 2);\n\t});\n\n\tvar colorScale = function (value) {\n\t\treturn !isNaN(value) ? scale(value) : null;\n\t};\n\n\tcolorScale.domain = Object.freeze(domain);\n\tcolorScale.thresholds = Object.freeze(thresholds);\n\tcolorScale.centers = Object.freeze(centers);\n\n\treturn colorScale;\n}\n\nfunction interpolatePalette(interpolator, n, domain) {\n\tvar step = 1 / n;\n\tvar positions = [];\n\tfor (var i = 0; i < n; i++) {\n\t\tvar pos = i / n + step / 2;\n\t\tvar val = domain[0] + pos * (domain[domain.length - 1] - domain[0]);\n\t\tpositions.push(val);\n\t}\n\tvar colors = positions.map(interpolator);\n\treturn { positions: positions, colors: colors };\n}\n\nfunction ascendingSort(a, b) { return a - b; }\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\nimport {initRange} from \"./init\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import { extent } from \"d3-array\";\n\nexport function getDomain(values) {\n\tvar domain = Array.isArray(values) ? extent(values) : [0, 1];\n\treturn domain;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n","import { scaleSequential } from \"d3-scale\";\nimport { interpolateBlues, interpolateBuGn, interpolateBuPu, interpolateCool, interpolateCubehelixDefault, interpolateGnBu, interpolateGreens, interpolateGreys, interpolateInferno, interpolateMagma, interpolateOranges, interpolateOrRd, interpolatePlasma, interpolatePuBu, interpolatePuBuGn, interpolatePuRd, interpolatePurples, interpolateRdPu, interpolateReds, interpolateViridis, interpolateWarm, interpolateYlGn, interpolateYlGnBu, interpolateYlOrBr, interpolateYlOrRd } from \"d3-scale-chromatic\";\nimport { interpolateHcl, interpolateHsl, interpolateLab, interpolateRgb, interpolateRgbBasis } from \"d3-interpolate\";\nimport { binnedScale } from \"../common/binning\";\nimport { getDomain } from \"../common/domain\";\n\nvar CARROTS = Object.freeze([\"#efeca4\", \"#e9e28f\", \"#dccf64\", \"#e3b23c\", \"#e49547\", \"#e37746\", \"#dc5b36\", \"#cb4144\", \"#bb2244\", \"#972545\", \"#6a2c4f\"]);\n\nvar INTERPOLATORS = Object.freeze({\n\tBlues: interpolateBlues,\n\tBuGn: interpolateBuGn,\n\tBuPu: interpolateBuPu,\n\tCarrots: interpolateRgbBasis(CARROTS),\n\tCool: interpolateCool,\n\tCubehelixDefault: interpolateCubehelixDefault,\n\tGnBu: interpolateGnBu,\n\tGreens: interpolateGreens,\n\tGreys: interpolateGreys,\n\tInferno: interpolateInferno,\n\tMagma: interpolateMagma,\n\tOranges: interpolateOranges,\n\tOrRd: interpolateOrRd,\n\tPlasma: interpolatePlasma,\n\tPuBu: interpolatePuBu,\n\tPuBuGn: interpolatePuBuGn,\n\tPuRd: interpolatePuRd,\n\tPurples: interpolatePurples,\n\tRdPu: interpolateRdPu,\n\tReds: interpolateReds,\n\tViridis: interpolateViridis,\n\tWarm: interpolateWarm,\n\tYlGn: interpolateYlGn,\n\tYlGnBu: interpolateYlGnBu,\n\tYlOrBr: interpolateYlOrBr,\n\tYlOrRd: interpolateYlOrRd\n});\n\nvar INTERPOLATOR_GENERATORS = {\n\thcl: interpolateHcl,\n\thsl: interpolateHsl,\n\tlab: interpolateLab,\n\trgb: interpolateRgb,\n};\n\nfunction getCustomInterpolator(state) {\n\tvar color_space = state.sequential_color_space;\n\tvar min = state.sequential_custom_min;\n\tvar max = state.sequential_custom_max;\n\treturn INTERPOLATOR_GENERATORS[color_space](min, max);\n}\n\nfunction getSequentialFunction(state, values) {\n\tvar domain = state.sequential_custom_domain && !state.binning ? [state.sequential_domain_min, state.sequential_domain_max] : getDomain(values);\n\tvar interpolate = function (t) {\n\t\tvar interpolation = INTERPOLATORS[state.sequential_palette] || getCustomInterpolator(state);\n\t\tif (state.sequential_reverse) return interpolation(1 - t);\n\t\telse return interpolation(t);\n\t};\n\tvar scale = scaleSequential(interpolate).domain(domain);\n\tvar colorScale = function (value) {\n\t\treturn !isNaN(value) ? scale(value) : null;\n\t};\n\tcolorScale.domain = Object.freeze(domain);\n\tif (!state.binning) return colorScale;\n\telse return binnedScale(state, domain, values, colorScale);\n}\n\nexport { getSequentialFunction };\n","import { scaleDiverging } from \"d3-scale\";\nimport { interpolateBrBG, interpolatePiYG, interpolatePRGn, interpolatePuOr, interpolateRdBu, interpolateRdGy, interpolateRdYlBu, interpolateRdYlGn, interpolateSpectral } from \"d3-scale-chromatic\";\nimport { interpolateHcl, interpolateHsl, interpolateLab, interpolateRgb, piecewise } from \"d3-interpolate\";\nimport { binnedScale } from \"../common/binning\";\nimport { getDomain } from \"../common/domain\";\n\nvar INTERPOLATORS = Object.freeze({\n\tBrBG: interpolateBrBG,\n\tPiYG: interpolatePiYG,\n\tPRGn: interpolatePRGn,\n\tPuOr: interpolatePuOr,\n\tRdBu: interpolateRdBu,\n\tRdGy: interpolateRdGy,\n\tRdYlBu: interpolateRdYlBu,\n\tRdYlGn: interpolateRdYlGn,\n\tSpectral: interpolateSpectral\n});\n\nvar INTERPOLATOR_GENERATORS = {\n\thcl: interpolateHcl,\n\thsl: interpolateHsl,\n\tlab: interpolateLab,\n\trgb: interpolateRgb,\n};\n\nfunction getCustomInterpolator(state) {\n\tvar color_space = state.diverging_color_space;\n\tvar min = state.diverging_custom_min;\n\tvar mid = state.diverging_custom_mid;\n\tvar max = state.diverging_custom_max;\n\treturn piecewise(INTERPOLATOR_GENERATORS[color_space], [min, mid, max]);\n}\n\n\nfunction getDivergingFunction(state, values) {\n\tvar extent = getDomain(values);\n\tvar midpoint = extent[0] < 0 && extent[1] > 0 ? 0 : (extent[0] + extent[1]) / 2;\n\tvar domain = [extent[0], midpoint, extent[1]];\n\n\tif (state.diverging_custom_domain) {\n\t\tif (state.binning) domain[1] = state.diverging_domain_mid;\n\t\telse domain = [state.diverging_domain_min, state.diverging_domain_mid, state.diverging_domain_max];\n\t}\n\n\tvar interpolate = function(t) {\n\t\tvar interpolation = INTERPOLATORS[state.diverging_palette] || getCustomInterpolator(state);\n\t\tif (state.diverging_reverse) return interpolation(1 - t);\n\t\telse return interpolation(t);\n\t};\n\n\tvar scale = scaleDiverging(interpolate).domain(domain);\n\tvar colorScale = function (value) {\n\t\treturn !isNaN(value) ? scale(value) : null;\n\t};\n\n\tcolorScale.domain = Object.freeze(domain);\n\tcolorScale.midpoint = state.diverging_custom_domain ? state.diverging_domain_mid : midpoint;\n\n\tif (!state.binning) return colorScale;\n\telse return binnedScale(state, domain, values, colorScale);\n}\n\n\nexport { getDivergingFunction };\n","export default function piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","import { createLegendContainer, createDiscreteColorLegend, createContinuousColorLegend, createContinuousSizeLegend } from \"@flourish/legend\";\n\nimport createColors from \"@flourish/colors\";\n\nexport var state = {\n  legend_container: {},\n  legend_categorical: {},\n  legend_continuous: {},\n  legend_size: {},\n  color:{}\n  // The current state of template. You can make some or all of the properties\n  // of the state object available to the user as settings in settings.js.\n};\n\nconst legend_container = createLegendContainer(state.legend_container);\nconst legend_categorical = createDiscreteColorLegend(state.legend_categorical);\nconst legend_continuous = createContinuousColorLegend(state.legend_continuous);\nconst legend_size = createContinuousSizeLegend(state.legend_size);\nconst colors = createColors(state.color);\n\nfunction init() {\n\n  legend_container\n  \t.appendTo(document.getElementById(\"legend\"))\n  \t.add([\n  \t\tlegend_categorical,\n  \t\tlegend_continuous,\n  \t\tlegend_size\n  \t]);\n  \n}\n\nexport var data = {};\n// If your template includes data tables, use this variable to access the data.\n// Each of the 'datasets' in data.json file will be available as properties of the data.\n\n\nexport function update() {\n  //Test whether the function is being called\n  console.log(\"Hi! I'm being called (also, long live the Queen)\")\n  \n  // var legend_items = [\n  //   {\n  //     label: \"Brazil\",\n  //     color: \"#ff0000\"\n  //   },\n  //   {\n  //     label: \"Argentina\",\n  //     color: \"#000000\"\n  //   }\n  // ]\n  // legend_categorical.data(legend_items);\n\n  // var legend_continuous_items = [\n  //   {\n  //     label: 10,\n  //     color: \"#ff0000\"\n  //   },\n  //   {\n  //     label: 0,\n  //     color: \"#000000\"\n  //   }\n  // ]\n\n  // legend_continuous.data(legend_continuous_items);\n\n  // legend_container.update()\n\n  const domain = [1, 2, 3]\n\n  colors.updateColorScale(domain)\n\n  const color1 = colors.getColor(1)\n\n  console.log(color1)\n  // The update function is called whenever the user changes a data table or settings\n  // in the visualisation editor, or when changing slides in the story editor.\n\n  // Tip: to make your template work nicely in the story editor, ensure that all user\n  // interface controls such as buttons and sliders update the state and then call update.\n}\n\nexport function draw() {\n  // The draw function is called when the template first loads\n  init();\n\n  update();\n}\n","import DiscreteColorLegend from \"./discrete-color\";\nimport ContinuousColorLegend from \"./continuous-color\";\nimport ContinuousSizeLegend from \"./continuous-size\";\nimport legendContainer from \"./container\";\n\nfunction createLegendContainer(state) {\n\treturn new legendContainer(state);\n}\n\nfunction createDiscreteColorLegend(state) {\n\treturn new DiscreteColorLegend(state);\n}\n\nfunction createContinuousColorLegend(state) {\n\treturn new ContinuousColorLegend(state);\n}\n\nfunction createContinuousSizeLegend(state) {\n\treturn new ContinuousSizeLegend(state);\n}\n\nexport { createLegendContainer, createDiscreteColorLegend, createContinuousColorLegend, createContinuousSizeLegend };\n","import { DEFAULTS, DEFAULT_FALLBACK_VALUE } from \"./defaults\";\nimport { getCategoricalFunction } from \"./scales/categorical\";\nimport { getSequentialFunction } from \"./scales/sequential\";\nimport { getDivergingFunction } from \"./scales/diverging\";\n\n\nfunction init(state) {\n\tvar colorFunction = null;\n\n\tfor (var key in DEFAULTS) {\n\t\tif (state[key] === undefined) state[key] = DEFAULTS[key];\n\t}\n\n\tvar fallback_value = DEFAULT_FALLBACK_VALUE;\n\n\tvar updateColorScale = function(values) {\n\t\tif (state.scale_type === \"categorical\") colorFunction = getCategoricalFunction(state, values);\n\t\telse if (state.numeric_type === \"sequential\") colorFunction = getSequentialFunction(state, values);\n\t\telse if (state.numeric_type === \"diverging\") colorFunction = getDivergingFunction(state, values);\n\n\t\tgetColor.thresholds = colorFunction.thresholds;\n\t\tgetColor.centers = colorFunction.centers;\n\t\tgetColor.midpoint = colorFunction.midpoint;\n\t\tgetColor.domain = colorFunction.domain;\n\t\tgetColor.colors = colorFunction.colors;\n\t\tgetColor.items = colorFunction.items;\n\n\t\treturn this;\n\t};\n\n\tvar fallback = function(value) {\n\t\tif (value === undefined) return fallback_value;\n\t\tif (value === \"default\") fallback_value = DEFAULT_FALLBACK_VALUE;\n\t\telse fallback_value = value;\n\t\treturn this;\n\t};\n\n\tvar getColor = function(value) {\n\t\treturn colorFunction ? colorFunction(value) || fallback_value : fallback_value;\n\t};\n\n\treturn {\n\t\tgetColor: getColor,\n\t\tupdateColorScale: updateColorScale,\n\t\tfallback: fallback\n\t};\n}\n\n\nexport default init;\n"],"names":["xhtml","svg","xlink","xml","xmlns","name","prefix","i","indexOf","slice","namespaces","hasOwnProperty","space","local","fullname","namespace","this","ownerDocument","createElementNS","document","uri","namespaceURI","documentElement","createElement","none","selector","querySelector","empty","update","Array","length","EnterNode","parent","datum","_next","_parent","__data__","prototype","constructor","appendChild","child","insertBefore","next","querySelectorAll","keyPrefix","bindIndex","group","enter","exit","data","node","groupLength","dataLength","bindKey","key","keyValue","nodeByKeyValue","keyValues","call","ascending","a","b","NaN","defaultView","classArray","string","trim","split","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","n","add","classedRemove","remove","textRemove","textContent","htmlRemove","innerHTML","raise","nextSibling","parentNode","lower","previousSibling","firstChild","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","push","setAttribute","join","splice","contains","filterEvents","event","filterContextListener","listener","index","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","typename","on","__on","o","j","m","type","removeEventListener","capture","onAdd","value","wrap","d","addEventListener","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","mouseenter","mouseleave","root","Selection","groups","parents","_groups","_parents","select","subgroups","subnode","subgroup","selectAll","filter","match","matches","size","each","x","bind","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","map","sparse","onenter","onupdate","onexit","append","merge","order","selection","groups0","groups1","m0","m1","Math","min","merges","group0","group1","sort","compare","compareNode","sortgroups","sortgroup","callback","arguments","apply","nodes","attr","getAttributeNS","removeAttributeNS","removeAttribute","v","setAttributeNS","style","priority","removeProperty","setProperty","getPropertyValue","getComputedStyle","property","classed","text","html","create","creator","insert","before","deep","t","typenames","dispatch","f","bisectRight","left","lo","hi","mid","right","e10","sqrt","e5","e2","tickIncrement","start","stop","count","step","max","power","floor","log","LN10","error","pow","appendTo","container","_container","css","id","head","format","formatFunction","_formatFunction","getContainer","visible","visible_","undefined","_visible","autoTitle","_auto_title","_updateTitle","_this","title","_state","title_mode","orientation","remToPx","rem","parseFloat","fontSize","roundDown","val","exp","normalised_val","rounded","toFixed","DEFAULTS","Object","freeze","alignment","text_color","title_weight","text_weight","text_size","legendContainer","state_","container_","legends","_legends","isArray","self","forEach","legend","console","warn","font_size","small_gap","mid_gap","is_horizontal","flex_alignment","template","layout","state","font_color","font_family","body_font","body","fontFamily","font_size_in_px","styles","fillStyle","font","pixel_ratio","devicePixelRatio","label_h","ceil","legend_count","show_legend","max_width","swatch_width","swatch_height","swatch_radius","icon_height","icon_color","order_override","DiscreteColorLegend","_colorFunction","_legend_items","_filtered_items","_eventListeners","_id","initRange","domain","range","initInterpolator","interpolator","items_","colorFunction_","legend_item","legend_item_label","label","color","filtered","d3_event","target","t_parent","item","item_data","should_display","_updateLegend","legend_item_data","items","order_override_string","new_index_lookup","overrides","sorted_items","old_index","new_index","sortByOrderOverride","legend_items","legend_items_enter","legend_items_update","default_text_size","icon","w","width","h","height","stroke_width","outline","stroke_thickness","width_px","path_string","transform","_legend_item_els","Map","object","set","Set","has","get","clear","keys","values","entries","proto","array","factory","extend","definition","Color","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","round","toString","s","Hsl","hslConvert","hsl","hsl2rgb","m2","define","copy","channels","assign","displayable","formatHsl","k","darker","deg2rad","PI","rad2deg","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","z","rgb2lrgb","y","xyz2lab","lab","lab2xyz","lrgb2rgb","hcl","c","atan2","hclConvert","cos","sin","B","C","D","E","ED","EB","BC_DA","cubehelix","Cubehelix","bl","cubehelixConvert","linear","hue","constant","gamma","nogamma","cosh","sinh","rgbGamma","end","colorRgb","spline","rgbBasis","v1","v2","v0","v3","colors","reA","reB","source","number","am","bm","bs","bi","lastIndex","q","Date","setTime","ArrayBuffer","isView","DataView","nb","na","valueOf","colorHsl","colorLab","colorHcl","cubehelixGamma","colorCubehelix","cubehelixLong","unit","identity","normalize","clamper","bimap","interpolate","d0","d1","r0","r1","polymap","reverse","bisect","continuous","untransform","interpolateValue","clamp","scale","invert","input","piecewise","interpolateNumber","_","rescale","rangeRound","interpolateRound","unknown","u","transformer","output","formatDecimalParts","p","toExponential","coefficient","abs","prefixExponent","re","formatSpecifier","specifier","Error","FormatSpecifier","fill","align","sign","symbol","zero","comma","precision","exponent","%","toLocaleString","replace","e","toPrecision","formatRounded","X","toUpperCase","prefixes","locale","numerals","grouping","thousands","Number","substring","currencyPrefix","currency","currencySuffix","decimal","String","percent","minus","nan","newFormat","formatTypes","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","Infinity","padding","formatPrefix","step0","step1","linearish","ticks","isFinite","tickFormat","nice","quantile","thresholds","valueof","value0","threshold","invertExtent","quantiles","sequential","k10","x0","x1","diverging","k21","x2","formatLocale","color_band_width","color_band_height","color_band_radius","binned_label_mode","binned_label_custom","legend_min","legend_max","ContinuousColorLegend","_legend_domain","_marker_value","getInRangeFunction","domain_","domain_min","domain_max","domain_mid","legend_domain","markerValue","_scale_type","label_w","canvas","getContext","ctx","strokeStyle","fillRect","strokeRect","x_marker","scaleLinear","xScale","y_bottom","save","lineWidth","beginPath","moveTo","lineTo","stroke","restore","_updateLegendLabels","label_canvas","placed_labels","band_width","inRange","labels","label_padding_start","label_padding_end","_getDivergingLabels","_getBinnedLabels","textAlign","textBaseline","prepLabel","center","half_width","measureText","at_start","at_end","position","prepped_labels","label_canvas_width","fillText","last_threshold","unshift","centers","first_threshold","clip_height","small_circle_size","shape_fill","shape_stroke","ContinuousSizeLegend","_scaleFunction","circles_container","scaleFunction_","val_max_unrounded","val_max","val_min","r_min","w_min","canvas_min","ctx_min","clearRect","arc","r_max","w_max","canvas_max","ctx_max","scale_type","categorical_type","categorical_palette","categorical_extend","categorical_custom_palette","numeric_type","sequential_palette","sequential_custom_min","sequential_custom_max","sequential_color_space","sequential_reverse","sequential_custom_domain","sequential_domain_min","sequential_domain_max","diverging_palette","diverging_custom_min","diverging_custom_mid","diverging_custom_max","diverging_color_space","diverging_reverse","diverging_custom_domain","diverging_domain_min","diverging_domain_mid","diverging_domain_max","binning","bin_count","bin_mode","bin_thresholds","DEFAULT_ANGLE","DEFAULT_COLOR","hueRotationGenerator","colorSpace","second_channel_name","third_channel_name","init_colors","angle","palette","col","h_init","second_channel","reduce","third_channel","counter","rotation","d3_color","color_generators","scheme","interpolateRgbBasis","ramp","concat","interpolateCubehelixLong","warm","cool","magma","inferno","plasma","binnedScale","ascendingSort","positions","pos","interpolatePalette","quantize","scaleQuantize","scaleQuantile","scaleThreshold","colorScale","getDomain","extent","CARROTS","INTERPOLATORS","Blues","interpolateBlues","BuGn","interpolateBuGn","BuPu","interpolateBuPu","Carrots","Cool","interpolateCool","CubehelixDefault","interpolateCubehelixDefault","GnBu","interpolateGnBu","Greens","interpolateGreens","Greys","interpolateGreys","Inferno","interpolateInferno","Magma","interpolateMagma","Oranges","interpolateOranges","OrRd","interpolateOrRd","Plasma","interpolatePlasma","PuBu","interpolatePuBu","PuBuGn","interpolatePuBuGn","PuRd","interpolatePuRd","Purples","interpolatePurples","RdPu","interpolateRdPu","Reds","interpolateReds","Viridis","interpolateViridis","Warm","interpolateWarm","YlGn","interpolateYlGn","YlGnBu","interpolateYlGnBu","YlOrBr","interpolateYlOrBr","YlOrRd","interpolateYlOrRd","INTERPOLATOR_GENERATORS","interpolateHcl","interpolateHsl","interpolateLab","interpolateRgb","getSequentialFunction","scaleSequential","color_space","interpolation","BrBG","interpolateBrBG","PiYG","interpolatePiYG","PRGn","interpolatePRGn","PuOr","interpolatePuOr","RdBu","interpolateRdBu","RdGy","interpolateRdGy","RdYlBu","interpolateRdYlBu","RdYlGn","interpolateRdYlGn","Spectral","interpolateSpectral","getCustomInterpolator","I","legend_container","legend_categorical","legend_continuous","legend_size","colorFunction","getColor","fallback_value","updateColorScale","colorGenerator","lookup","unique_domain","d3_set","rotation_angle","str","lastIndexOf","midpoint","scaleDiverging","getDivergingFunction","fallback","createColors","color1","getElementById"],"mappings":"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"}